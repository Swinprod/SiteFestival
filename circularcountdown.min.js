if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),r=o.data("bs.circularcountdown"),n=t.extend({},i.DEFAULT,o.data(),"object"==typeof e&&e);r||o.data("bs.circularcountdown",r=new i(this,n)),"string"==typeof e&&r[e]()})}var i=function(t,e){this.cvs=this.options=this.$element=null,this.diff_time=0,this.init(t,e)};i.PLUGIN_NAME="CircularCountdown",i.VERSION="1.0.0",i.DEFAULT={def_color:"#000",padding:10,max_w:360,epaisseur:20,interval:100},i.UNITS={DAYS:{s:864e5,max:365},HOURS:{s:36e5,max:24},MINUTES:{s:6e4,max:60},SECONDS:{s:1e3,max:60},TENTHSEC:{s:10,max:100}},i.FLATCOLOR={"green-sea":"#16A085",emerland:"#2ECC71",nephritis:"#27AE60","peter-river":"#3498DB","belize-hole":"#2980B9",amethyst:"#9B59B6",wisteria:"#8E44AD","wet-asphalt":"#34495E","midnight-blue":"#2C3E50","night-shade":"#22313F","sun-flower":"#F1C40F",orange:"#F39C12",carrot:"#E67E22",pumpkin:"#D35400",alizarin:"#E74C3C",pomegranate:"#C0392B",clouds:"#ECF0F1",silver:"#BDC3C7",concrete:"#95A5A6",asbestos:"#7F8C8D"},i.prototype.init=function(e,i){this.$element=t(e),this.options=this.getOptions(i),this.cvs=this.$element.find("canvas");for(var o=0;o<=this.cvs.length-1;o++)this.cvs[o].cvs_name=this.cvs[o].id.toUpperCase(),this.cvs[o].unit=this.getUnit(this.cvs[o].cvs_name);setInterval(t.proxy(this.cycle,this),this.options.interval)},i.prototype.getOptions=function(t){return t.color=this.getColor(t.color),t.fcolor=this.getColor(t.fcolor),t},i.prototype.getColor=function(t){if(void 0==t)return i.DEFAULT.def_color;if(""==t)throw new Error(i.PLUGIN_NAME+" - "+i.VERSION+" : color is empty");return this.getFlatColor(t)?this.getFlatColor(t):"rgb("+t+")"},i.prototype.getUnit=function(t){if(i.UNITS[t])return i.UNITS[t];throw new Error(i.PLUGIN_NAME+" - "+i.VERSION+" : Unit ["+t+"] not valid. Please use days, hours, minutes, seconds and tenth of seconds")},i.prototype.getFlatColor=function(t){return i.FLATCOLOR[t]?i.FLATCOLOR[t]:!1},i.prototype.resize=function(e){e.w=t(e).parent().width()<=i.DEFAULT.max_w?t(e).parent().width():i.DEFAULT.max_w,e.h=e.w,e.r=(e.w-i.DEFAULT.epaisseur-i.DEFAULT.padding)/2,e.setAttribute("width",e.w),e.setAttribute("height",e.h),t(e).css({width:e.w+"px",height:e.h+"px"}),e.ctx=e.getContext("2d"),e.ctx.textAlign="center"},i.prototype.cycle=function(){this.diff_time=t.now()-new Date(this.options.to).getTime();for(var e=0;3>=e;e++)this.resize(this.cvs[e]),this.draw(this.cvs[e])},i.prototype.draw=function(t){var e,i=t.unit.s;e=parseFloat(this.diff_time/i),this.diff_time-=Math.round(parseInt(e))*i,e=Math.abs(e);var o=360-e/t.unit.max*360,r=o*(Math.PI/180);t.ctx.save(),t.ctx.clearRect(0,0,t.w,t.h),t.ctx.strokeStyle="rgba(128,128,128,0.2)",t.ctx.beginPath(),t.ctx.arc(t.w/2,t.h/2,t.r,0,2*Math.PI,2),t.ctx.lineWidth=this.options.epaisseur,t.ctx.stroke(),t.ctx.strokeStyle=this.options.color,t.ctx.beginPath(),t.ctx.arc(t.w/2,t.h/2,t.r,0,r,1),t.ctx.lineWidth=this.options.epaisseur,t.ctx.stroke(),t.ctx.fillStyle=this.options.fcolor,t.ctx.font=.1*t.h+"px Helvetica,Arial,sans-serif",t.ctx.fillText(t.cvs_name,t.w/2,t.h/2+.1*t.h),t.ctx.font="bold "+.3*t.h+"px Helvetica,Arial,sans-serif",t.ctx.fillText(Math.floor(e),t.w/2,t.h/2),t.ctx.restore()};var o=t.fn.circularcountdown;t.fn.circularcountdown=e,t.fn.circularcountdown.Constructor=i,t.fn.circularcountdown.noConflict=function(){return t.fn.circularcountdown=o,this},t(window).on("load",function(){t('[data-toggle="circularcountdown"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery);